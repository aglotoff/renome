include ../../blocks/common/btn/btn.pug
include ../../blocks/common/footer/footer.pug
include ../../blocks/common/hamburger/hamburger.pug
include ../../blocks/common/header/header.pug
include ../../blocks/common/heading-group/heading-group.pug
include ../../blocks/common/icon/icon.pug
include ../../blocks/common/img-group/img-group.pug
include ../../blocks/common/input/input.pug
include ../../blocks/common/mini-cart/mini-cart.pug
include ../../blocks/common/mobile-search/mobile-search.pug
include ../../blocks/common/nav/nav.pug
include ../../blocks/common/page-header/page-header.pug
include ../../blocks/common/pagination/pagination.pug
include ../../blocks/common/search/search.pug
include ../../blocks/common/section/section.pug
include ../../blocks/common/tabs/tabs.pug
include ../../blocks/common/text-area/text-area.pug
include ../../blocks/common/title/title.pug

doctype html
html(lang="en")
    block functions
        -
            const blogDate = function(datestr) {
                const date = new Date(datestr);
                const month = date.toLocaleString('en-us', { month: 'long'});
                const day = date.getDate();
                const year = date.getFullYear();
                return `${month} ${day}, ${year}`;
            };

    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        meta(http-equiv="X-UA-Compatible", content="ie=edge")

        title
            if data.pageCategory
                | #{data.pageTitle} &#8211; #{data.pageCategory} | #{data.siteTitle}
            else if data.pageTitle
                | #{data.pageTitle} | #{data.siteTitle}
            else
                | #{data.siteTitle} &#8211; #{data.siteTagline}

        link(rel="stylesheet", href="css/style.css")
        link(rel="icon", href="img/favicon.ico")

    body.page(class=data.isHomepage ? 'page_home' : '')
        a(href="#content").skip-link.page__skip-link Skip to content

        +header({
            isHomepage: data.isHomepage,
            transparent: !data.isHomepage,
        }).page__header

        main#content
            block page
        // #content 

        +footer()

        block scripts
            script(src="js/vendor.js")
            script(src="js/main.js")
